{
  "jcr:primaryType": "cq:Page",
  "jcr:createdBy": "admin",
  "jcr:created": "Wed Nov 14 2018 15:09:42 GMT-0500",
  "jcr:content": {
    "jcr:primaryType": "cq:PageContent",
    "jcr:mixinTypes": [
      "mix:versionable"
    ],
    "jcr:createdBy": "admin",
    "jcr:title": "FLARE VM Update",
    "jcr:versionHistory": "8227814e-7a5d-42a1-a900-732fe5430a32",
    "author": "Nhan Huynh",
    "cq:template": "\/apps\/fireeye-blog\/templates\/page_blogpost",
    "jcr:language": "en_us",
    "jcr:predecessors": [
      "5b742ff9-567f-4449-abef-01927b95aa13"
    ],
    "jcr:created": "Fri Feb 12 2021 21:55:22 GMT+0000",
    "cq:lastModified": "Fri Feb 12 2021 21:54:49 GMT+0000",
    "jcr:baseVersion": "5b742ff9-567f-4449-abef-01927b95aa13",
    "jcr:isCheckedOut": true,
    "cq:tags": [
      "fireeye-blog-authors:nhan-huynh",
      "fireeye-blog-threat-research:threat-research",
      "fireeye-blog-tags:latest",
      "fireeye-blog-tags:homepage-carousel",
      "fireeye-blog-tags:tools",
      "fireeye-blog-tags:FLARE"
    ],
    "jcr:uuid": "9fa55135-2a13-4d4a-8944-f366a504d677",
    "sling:resourceType": "social\/blog\/components\/page",
    "published": "Wed Nov 14 2018 15:00:00 GMT-0500",
    "cq:lastModifiedBy": "adam.greenberg@fireeye.com",
    "par": {
      "jcr:primaryType": "nt:unstructured",
      "sling:resourceType": "foundation\/components\/parsys",
      "entry": {
        "jcr:primaryType": "nt:unstructured",
        "jcr:lastModifiedBy": "adam.greenberg@fireeye.com",
        "text": "\u003Cp\u003EFLARE VM is the first of its kind reverse engineering and malware analysis distribution on Windows platform. Since its \u003Ca adhocenable=\u0022false\u0022 href=\u0022https:\/\/www.fireeye.com\/blog\/threat-research\/2017\/07\/flare-vm-the-windows-malware.html\u0022\u003Eintroduction in July 2017\u003C\/a\u003E, FLARE VM has been continuously trusted and used by many reverse engineers, malware analysts, and security researchers as their go-to environment for analyzing malware. Just like the ever-evolving security industry, FLARE VM has gone through many major changes to better support our users\u2019 needs. FLARE VM now has a new installation, upgrade, and uninstallation process, which is a long anticipated feature requested by our users. FLARE VM also includes many new tools such as IDA 7.0, radare and YARA. Therefore, we would like to share these updates, especially the new installation process.\u003C\/p\u003E\n\u003Ch4\u003EInstallation\u003C\/h4\u003E\n\u003Cp\u003EWe strongly recommend you use FLARE VM within a virtualized environment for malware analysis to protect and isolate your physical device and network from malicious activities. We assume you already have experience setting up and configuring your own virtualized environment. Please create a new virtual machine (VM) and perform a fresh installation of Windows. FLARE VM is designed to be installed on Windows 7 Service Pack 1 or newer; therefore, you can select a version of windows that best suits your needs. From this point forward, all installation steps should be performed within your VM.\u003C\/p\u003E\n\u003Cp\u003EOnce you have a VM with a fresh installation of Windows, use one of the following URLs to download the compressed FLARE VM repository onto your VM:\u003C\/p\u003E\n\u003Cul style=\u0022list-style-position: inside;\u0022\u003E\n\u003Cli\u003E\u003Ca adhocenable=\u0022false\u0022 href=\u0022https:\/\/github.com\/fireeye\/flare-vm\u0022 target=\u0022_blank\u0022\u003Ehttps:\/\/github.com\/fireeye\/flare-vm\u003C\/a\u003E\u003C\/li\u003E\n\u003Cli\u003E\u003Ca adhocenable=\u0022false\u0022 href=\u0022https:\/\/flarevm.info\u0022 target=\u0022_blank\u0022\u003Ehttps:\/\/flarevm.info\u003C\/a\u003E\u003C\/li\u003E\n\u003C\/ul\u003E\n\u003Cp\u003E\u003Cimg src=\u0022\/content\/dam\/fireeye-www\/blog\/images\/FlareVMupdate\/Picture1.png\u0022\u003E\u003Cbr\u003E\n\u003Cspan class=\u0022type-XS\u0022\u003EFigure 1: Download FLARE VM repo\u003C\/span\u003E\u003C\/p\u003E\n\u003Cp\u003EThen, use the following steps to install FLARE VM:\u003C\/p\u003E\n\u003Col style=\u0022list-style-position: inside;\u0022\u003E\n\u003Cli\u003EDecompress the FLARE VM repository to a directory of your choosing.\u003C\/li\u003E\n\u003Cli\u003EStart a new session of PowerShell with escalated privileges. FLARE VM attempts to install additional software and modify system settings; therefore, escalated privileges are required for installation.\u003C\/li\u003E\n\u003Cli\u003EWithin PowerShell, change directory to the location where you have decompressed the FLARE VM repository.\u003C\/li\u003E\n\u003Cli\u003EEnable unrestricted execution policy for PowerShell by executing the following command and answering \u201cY\u201d when prompted by PowerShell: Set-ExecutionPolicy unrestricted\u003C\/li\u003E\n\u003Cli\u003EExecute the install.ps1 installation script. You will be prompted to enter the current user\u2019s password. FLARE VM needs the current user\u2019s password to automatically login after a reboot when installing. Optionally, you can specify the current user\u2019s password by passing the \u201c-password \u0026lt;current_user_password\u0026gt;\u201d at the command line.\u003C\/li\u003E\n\u003C\/ol\u003E\n\u003Cp\u003E\u003Cimg src=\u0022\/content\/dam\/fireeye-www\/blog\/images\/FlareVMupdate\/Picture2.png\u0022\u003E\u003Cbr\u003E\n\u003Cspan class=\u0022type-XS\u0022\u003EFigure 2: Start PowerShell as administrator\u003C\/span\u003E\u003C\/p\u003E\n\u003Cp\u003E\u003Cimg src=\u0022\/content\/dam\/fireeye-www\/blog\/images\/FlareVMupdate\/Picture3.png\u0022\u003E\u003Cbr\u003E\n\u003Cspan class=\u0022type-XS\u0022\u003EFigure 3: Ready to install FLARE VM\u003C\/span\u003E\u003C\/p\u003E\n\u003Cp\u003EThe rest of the installation process is fully automated. Depending upon your internet speed the entire installation may take up to one hour to finish. The VM also reboots multiple times due to the numerous software installations\u2019 requirements. Once the installation completes, the PowerShell prompt remains open waiting for you to hit any key before exiting. After completing the installation, you will be presented with the following desktop environment:\u003C\/p\u003E\n\u003Cp\u003E\u003Cimg src=\u0022\/content\/dam\/fireeye-www\/blog\/images\/FlareVMupdate\/Picture4.png\u0022\u003E\u003Cbr\u003E\n\u003Cspan class=\u0022type-XS\u0022\u003EFigure 4: FLARE VM installation completes\u003C\/span\u003E\u003C\/p\u003E\n\u003Cp\u003ECongratulations! You have successfully installed FLARE VM. At this point we recommend you power off the VM, switch the VM networking mode to Host-Only, and then take a snapshot to save a clean state of your analysis VM.\u003C\/p\u003E\n\u003Ch4\u003EImprovement\u003C\/h4\u003E\n\u003Cp\u003EThe biggest improvement for FLARE VM is the ability to perform a proper update and uninstallation. The older version of FLARE VM came as a PowerShell script to install many chocolatey packages, one at a time; therefore, we were unable to include new packages when updating FLARE VM. In the past, our users had to reinstall FLARE VM completely, which is time consuming, or manually install the new package, which is error prone. To solve this issue, we have converted FLARE VM itself into a chocolatey package. Whenever a new tool is available we will also release a new version of FLARE VM. With this new design we can simply execute \u201cchoco upgrade all\u201d to get the newest version of FLARE VM along with any new packages we have released. You can also safely uninstall all FLARE VM packages by executing \u201cchoco uninstall flarevm.installer.flare\u201d.\u003C\/p\u003E\n\u003Cp\u003EOur new FLARE VM is also updated to use Python 3.7 as the default Python interpreter. As a result, many python scripts may fail to execute. To maintain support for older scripts, we keep Python 2.7 installed in parallel with Python 3.7. We can easily switch between different versions by using the Python launcher. Run \u201cpy -2.7 \u0026lt;path_to_python_script\u0026gt;\u201d to use Python 2.7, or \u201cpy \u0026lt;path_to_python_script\u0026gt;\u201d to use the default Python 3.7 interpreter. For more details on the Python launcher, please refer to the following URL: https:\/\/docs.python.org\/3\/using\/windows.html#launcher.\u003C\/p\u003E\n\u003Cp\u003EAdditionally, the new FLARE VM changes the location where Fakenet-NG saves its output when launched via the shortcut in the FLARE folder or taskbar pin. Instead of saving directly to the desktop, to reduce clutter, Fakenet-NG will store all its output in \u201cDesktop\\fakenet_logs\u201d.\u003C\/p\u003E\n\u003Cp\u003ECompared to older versions this version of FLARE VM comes with many new tools and software packages. Most notably, this release adds the following:\u003C\/p\u003E\n\u003Cul style=\u0022list-style-position: inside;\u0022\u003E\n\u003Cli\u003EIDA Free 7.0\u003C\/li\u003E\n\u003Cli\u003Eradare2 to support 64-bit disassembly\u003C\/li\u003E\n\u003Cli\u003EThe labs for the \u003Ca href=\u0022https:\/\/www.amazon.com\/Practical-Malware-Analysis-Hands-Dissecting\/dp\/1593272901\u0022\u003EPractical Malware Analysis\u003C\/a\u003E book\u003C\/li\u003E\n\u003Cli\u003Epdfid, pdf-parser, and PdfStreamdumper to analyze malicious PDF documents\u003C\/li\u003E\n\u003Cli\u003EThe Malcode Analyst Pack\u003C\/li\u003E\n\u003Cli\u003EYara for signature matching\u003C\/li\u003E\n\u003Cli\u003EThe Cygwin Linux environment on windows\u003C\/li\u003E\n\u003Cli\u003EPowerShell transcription and script block logging\u003Cul\u003E\n\u003Cli\u003EPowerShell transcripts can be found in \u201cDesktop\\PS_Transcripts\u201d\u003C\/li\u003E\n\u003C\/ul\u003E\n\u003C\/li\u003E\n\u003C\/ul\u003E\n\u003Ch4\u003EAvailable Packages\u003C\/h4\u003E\n\u003Cp\u003EWhile we attempt to make the tools available as shortcuts within the FLARE folder, there are several available from command-line only. Please see the \u003Ca adhocenable=\u0022false\u0022 href=\u0022http:\/\/FLAREVM.info\u0022\u003Eonline documentation\u003C\/a\u003E\u0026nbsp;for the most up to date list. Here is an incomplete list of some major tools available on FLARE VM:\u003C\/p\u003E\n\u003Cul style=\u0022list-style-position: inside;\u0022\u003E\n\u003Cli\u003EDisassemblers:\u003Cul\u003E\n\u003Cli\u003EIDA Free 5.0 and IDA Free 7.0\u003C\/li\u003E\n\u003Cli\u003EBinary Ninja\u003C\/li\u003E\n\u003Cli\u003ERadare2 and Cutter\u003C\/li\u003E\n\u003C\/ul\u003E\n\u003C\/li\u003E\n\u003Cli\u003EDebuggers:\u003Cul\u003E\n\u003Cli\u003EOllyDbg and OllyDbg2\u003C\/li\u003E\n\u003Cli\u003Ex64dbg\u003C\/li\u003E\n\u003Cli\u003EWindbg\u003C\/li\u003E\n\u003C\/ul\u003E\n\u003C\/li\u003E\n\u003Cli\u003EFile Format parser:\u003Cul\u003E\n\u003Cli\u003ECFF Explorer, PEView, PEStudio\u003C\/li\u003E\n\u003Cli\u003EPdfStreamdumper, pdf-parser, pdfid\u003C\/li\u003E\n\u003Cli\u003Effdec\u003C\/li\u003E\n\u003Cli\u003Eoffvis and officemalscanner\u003C\/li\u003E\n\u003Cli\u003EPE-bear\u003C\/li\u003E\n\u003C\/ul\u003E\n\u003C\/li\u003E\n\u003Cli\u003EDecompilers:\u003Cul\u003E\n\u003Cli\u003ERetDec\u003C\/li\u003E\n\u003Cli\u003EJd-gui and bytecode-viewer\u003C\/li\u003E\n\u003Cli\u003EdnSpy\u003C\/li\u003E\n\u003Cli\u003EIDR\u003C\/li\u003E\n\u003Cli\u003EVBDecompiler\u003C\/li\u003E\n\u003Cli\u003EPy2ExeDecompiler\u003C\/li\u003E\n\u003C\/ul\u003E\n\u003C\/li\u003E\n\u003Cli\u003EMonitoring tools:\u003Cul\u003E\n\u003Cli\u003ESysInternal suite\u003C\/li\u003E\n\u003Cli\u003ERegShot\u003C\/li\u003E\n\u003C\/ul\u003E\n\u003C\/li\u003E\n\u003Cli\u003EUtilities:\u003Cul\u003E\n\u003Cli\u003EHex Editors (010 editor, HxD and File Insight)\u003C\/li\u003E\n\u003Cli\u003EFLOSS (FireEye Labs Obfuscated String Solver)\u003C\/li\u003E\n\u003Cli\u003EFakenet-NG\u003C\/li\u003E\n\u003Cli\u003EYara\u003C\/li\u003E\n\u003Cli\u003EMalware Analyst Pack\u003C\/li\u003E\n\u003C\/ul\u003E\n\u003C\/li\u003E\n\u003C\/ul\u003E\n\u003Ch4\u003EConclusion\u003C\/h4\u003E\n\u003Cp\u003EThe FLARE team continues to support and improve FLARE VM to be the de facto distribution for security research, incident response, and malware analysis on Windows platform. We greatly appreciate the numerous bug reports, tool requests, and feature recommendations from everyone. We hope FLARE VM, along with many other FLARE open source projects, can help you do your work better, easier, and faster.\u003C\/p\u003E\n\u003Cp\u003EWe are always looking for talented folks to join our team. The FLARE Team may be a good place for you if:\u003C\/p\u003E\n\u003Cul style=\u0022list-style-position: inside;\u0022\u003E\n\u003Cli\u003EYou eat, sleep, and speak disassembly and malware all day long.\u003C\/li\u003E\n\u003Cli\u003EYou would like to push the state of the art for reverse engineering and malware analysis.\u003C\/li\u003E\n\u003C\/ul\u003E\n\u003Cp\u003EPlease check out our \u003Ca adhocenable=\u0022false\u0022 href=\u0022https:\/\/www.fireeye.com\/company\/jobs.html\u0022\u003Ecareers page\u003C\/a\u003E, or send us an email. Happy Reversing!\u003C\/p\u003E\n",
        "jcr:lastModified": "Fri Feb 12 2021 21:54:49 GMT+0000",
        "sling:resourceType": "social\/blog\/components\/entrytext"
      }
    },
    "summary": {
      "jcr:primaryType": "nt:unstructured",
      "jcr:lastModifiedBy": "adam.greenberg@fireeye.com",
      "text": "\u003Cp\u003EFLARE VM has gone through many major changes to better support our users\u2019 needs.\u003C\/p\u003E\n",
      "jcr:lastModified": "Wed Nov 14 2018 13:44:26 GMT-0500",
      "sling:resourceType": "social\/blog\/components\/entrytextteaser"
    },
    "image": {
      "jcr:primaryType": "nt:unstructured",
      "jcr:lastModifiedBy": "adam.greenberg@fireeye.com",
      "jcr:lastModified": "Wed Nov 14 2018 15:08:50 GMT-0500",
      "imageRotate": "0"
    }
  }
}
